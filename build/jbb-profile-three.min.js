/* THREE.js profile for JBB - https://github.com/wavesoft/jbb-profile-three */
var JBBProfileThree=function(e){function t(r){if(a[r])return a[r].exports;var o=a[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";var r=a(1),o=(a(2),1),n=0,i={Default:function(e){return new e},Unconstructed:function(e){return Object.create(e.prototype)}},s={Default:function(e,t,a){for(var r=0;r<t.length;r++)e[t[r]]=a[r]},Object3D:function(e,t,a){for(var r=0;r<t.length;r++){var o=t[r];switch(o){case"position":case"rotation":case"quaternion":case"scale":e[o].copy(a[r]);break;default:e[o]=a[r]}}for(var r=0;r<e.children.length;r++)e.children[r].parent=e},Mesh:function(e,t,a){s.Object3D(e,t,a),e.updateMorphTargets()},Texture:function(e,t,a){s.Default(e,t,a),e.image&&(e.image.onload=function(){e.needsUpdate=!0})},AnimationClip:function(e,t,a){s.Default(e,t,a),e.constructor.call(e,e.name,e.duration,e.tracks)},KeyframeTrack:function(e,t,a){s.Default(e,t,a),e.constructor.call(e,e.name,e.keys)},WidthHeightDepth:function(e,t,a){s.Default(e,t,a),e.constructor.call(e,e.parameters.width,e.parameters.height,e.parameters.depth,e.parameters.widthSegments,e.parameters.heightSegments,e.parameters.depthSegments)},WidthHeight:function(e,t,a){s.Default(e,t,a),e.constructor.call(e,e.parameters.width,e.parameters.height,e.parameters.widthSegments,e.parameters.heightSegments)},RadiusSegmentsTheta:function(e,t,a){s.Default(e,t,a),e.constructor.call(e,e.parameters.radius,e.parameters.segments,e.parameters.thetaStart,e.parameters.thetaLength)},CylinderGeometry:function(e,t,a){s.Default(e,t,a),e.constructor.call(e,e.parameters.radiusTop,e.parameters.radiusBottom,e.parameters.height,e.parameters.radialSegments,e.parameters.heightSegments,e.parameters.openEnded,e.parameters.thetaStart,e.parameters.thetaLength)},RadiusDetail:function(e,t,a){s.Default(e,t,a),e.constructor.call(e,e.parameters.radius,e.parameters.detail)},LatheGeometry:function(e,t,a){s.Default(e,t,a),e.constructor.call(e,e.parameters.points,e.parameters.segments,e.parameters.phiStart,e.parameters.phiLength)},SphereGeometry:function(e,t,a){s.Default(e,t,a),e.constructor.call(e,e.parameters.radius,e.parameters.widthSegments,e.parameters.heightSegments,e.parameters.phiStart,e.parameters.phiLength,e.parameters.thetaStart,e.parameters.thetaLength)},PolyhedronGeometry:function(e,t,a){s.Default(e,t,a),e.constructor.call(e,e.parameters.vertices,e.parameters.indices,e.parameters.radius,e.parameters.detail)},RingGeometry:function(e,t,a){s.Default(e,t,a),e.constructor.call(e,e.parameters.innerRadius,e.parameters.outerRadius,e.parameters.thetaSegments,e.parameters.phiSegments,e.parameters.thetaStart,e.parameters.thetaLength)},TorusGeometry:function(e,t,a){s.Default(e,t,a),e.constructor.call(e,e.parameters.radius,e.parameters.tube,e.parameters.radialSegments,e.parameters.tubularSegments,e.parameters.arc)},TorusKnot:function(e,t,a){s.Default(e,t,a),e.constructor.call(e,e.parameters.radius,e.parameters.tube,e.parameters.radialSegments,e.parameters.tubularSegments,e.parameters.p,e.parameters.q,e.parameters.heightScale)},TubeGeometry:function(e,t,a){s.Default(e,t,a),e.constructor.call(e,e.parameters.path,e.parameters.segments,e.parameters.radius,e.parameters.radialSegments,e.parameters.closed,e.parameters.taper)},Camera:function(e,t,a){s.Default(e,t,a),e.updateProjectionMatrix()},CubeCamera:function(e,t,a){s.Default(e,t,a),e.constructor.call(e,e.near,e.far,e.cubeResolution)},MD2Character:function(e,t,a){s.Default(e,t,a),e.mixer=new r.AnimationMixer(e.mesh)}},c=[[r.Vector2,i.Default,s.Default],[r.Vector3,i.Default,s.Default],[r.Vector4,i.Default,s.Default],[r.Face3,i.Default,s.Default],[r.Color,i.Default,s.Default],[r.Quaternion,i.Default,s.Default],[r.Euler,i.Default,s.Default],[r.Box2,i.Default,s.Default],[r.Box3,i.Default,s.Default],[r.Sphere,i.Default,s.Default],[r.Matrix3,i.Default,s.Default],[r.Matrix4,i.Default,s.Default],[r.BufferAttribute,i.Default,s.Default],[r.AnimationClip,i.Unconstructed,s.AnimationClip],[r.VectorKeyframeTrack,i.Unconstructed,s.KeyframeTrack],[r.QuaternionKeyframeTrack,i.Unconstructed,s.KeyframeTrack],[r.NumberKeyframeTrack,i.Unconstructed,s.KeyframeTrack],[r.BooleanKeyframeTrack,i.Unconstructed,s.KeyframeTrack],[r.StringKeyframeTrack,i.Unconstructed,s.KeyframeTrack],[],[],[],[],[],[],[],[],[],[],[],[],[],[r.BoxGeometry,i.Unconstructed,s.WidthHeightDepth],[r.CircleBufferGeometry,i.Unconstructed,s.RadiusSegmentsTheta],[r.CircleGeometry,i.Unconstructed,s.RadiusSegmentsTheta],[r.CylinderGeometry,i.Unconstructed,s.CylinderGeometry],[r.DodecahedronGeometry,i.Unconstructed,s.RadiusDetail],[r.IcosahedronGeometry,i.Unconstructed,s.RadiusDetail],[r.LatheGeometry,i.Unconstructed,s.LatheGeometry],[r.OctahedronGeometry,i.Unconstructed,s.RadiusDetail],[r.ParametricGeometry,i.Unconstructed,s.WidthHeight],[r.PlaneBufferGeometry,i.Unconstructed,s.WidthHeightDepth],[r.PlaneGeometry,i.Unconstructed,s.WidthHeightDepth],[r.PolyhedronGeometry,i.Unconstructed,s.PolyhedronGeometry],[r.RingGeometry,i.Unconstructed,s.RingGeometry],[r.SphereBufferGeometry,i.Unconstructed,s.SphereGeometry],[r.SphereGeometry,i.Unconstructed,s.SphereGeometry],[r.TetrahedronGeometry,i.Unconstructed,s.RadiusDetail],[r.TorusGeometry,i.Unconstructed,s.TorusGeometry],[r.TorusKnotGeometry,i.Unconstructed,s.TorusKnot],[r.TubeGeometry,i.Unconstructed,s.TubeGeometry],[r.BufferGeometry,i.Default,s.Default],[r.Geometry,i.Default,s.Default],[r.Mesh,i.Default,s.Mesh],[r.AmbientLight,i.Default,s.Default],[r.DirectionalLight,i.Default,s.Default],[r.HemisphereLight,i.Default,s.Default],[r.PointLight,i.Default,s.Default],[r.SpotLight,i.Default,s.Default],[r.Scene,i.Default,s.Object3D],[r.Object3D,i.Default,s.Object3D],[r.Fog,i.Default,s.Object3D],[r.FogExp2,i.Default,s.Object3D],[r.MeshBasicMaterial,i.Default,s.Default],[r.MeshPhongMaterial,i.Default,s.Default],[r.MeshLambertMaterial,i.Default,s.Default],[r.MeshDepthMaterial,i.Default,s.Default],[r.MeshNormalMaterial,i.Default,s.Default],[r.MultiMaterial,i.Default,s.Default],[r.PointsMaterial,i.Default,s.Default],[r.SpriteMaterial,i.Default,s.Default],[r.LineBasicMaterial,i.Default,s.Default],[r.Material,i.Default,s.Default],[r.PerspectiveCamera,i.Default,s.Camera],[r.OrthographicCamera,i.Default,s.Camera],[r.CubeCamera,i.Unconstructed,s.CubeCamera],[r.CompressedTexture,i.Default,s.Texture],[r.CubeTexture,i.Default,s.Texture],[r.Texture,i.Default,s.Texture],[r.MD2Character,i.Default,s.MD2Character]],m={Object3D:["name","up","position","quaternion","scale","rotationAutoUpdate","matrix","matrixWorld","matrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","userData","children"],KeyframeTrack:["name","keys","lastIndex","result"],Material:["name","side","opacity","blending","blendSrc","blendDst","blendEquation","depthFunc","polygonOffsetFactor","polygonOffsetUnits","alphaTest","overdraw","transparent","depthTest","depthWrite","colorWrite","polygonOffset","visible"],Texture:["name","mipmaps","flipY","mapping","wrapS","wrapT","magFilter","minFilter","anisotropy","format","type","offset","repeat","unpackAlignment"],Geometry:["name"]},l=[["x","y"],["x","y","z"],["x","y","z","w"],["a","b","c","materialIndex","normal","color","vertexNormals","vertexColors"],["r","g","b"],["_x","_y","_z","_w"],["_x","_y","_z","_order"],["min","max"],["min","max"],["center","radius"],["elements"],["elements"],["array","itemSize","dynamic","updateRange"],["name","duration","tracks","results"],m.KeyframeTrack,m.KeyframeTrack,m.KeyframeTrack,m.KeyframeTrack,m.KeyframeTrack,[],[],[],[],[],[],[],[],[],[],[],[],[],m.Geometry.concat(["parameters"]),m.Geometry.concat(["parameters"]),m.Geometry.concat(["parameters"]),m.Geometry.concat(["parameters"]),m.Geometry.concat(["parameters"]),m.Geometry.concat(["parameters"]),m.Geometry.concat(["parameters"]),m.Geometry.concat(["parameters"]),m.Geometry.concat(["parameters"]),m.Geometry.concat(["parameters"]),m.Geometry.concat(["parameters"]),m.Geometry.concat(["parameters"]),m.Geometry.concat(["parameters"]),m.Geometry.concat(["parameters"]),m.Geometry.concat(["parameters"]),m.Geometry.concat(["parameters"]),m.Geometry.concat(["parameters"]),m.Geometry.concat(["parameters"]),m.Geometry.concat(["parameters"]),m.Geometry.concat(["attributes","index"]),m.Geometry.concat(["vertices","faces","faceVertexUvs","morphTargets","morphNormals","morphColors","animations","boundingSphere"]),m.Object3D.concat(["geometry","material","materialTexture","materialWireframe"]),m.Object3D.concat(["color"]),m.Object3D.concat(["color","intensity"]),m.Object3D.concat(["color","groundColor","intensity"]),m.Object3D.concat(["color","intensity","distance","decay"]),m.Object3D.concat(["color","intensity","distance","decay","angle","exponent"]),m.Object3D.concat(["fog","overrideMaterial"]),m.Object3D,["color","near","far"],["color","density"],m.Material.concat(["color","map","aoMap","aoMapIntensity","specularMap","alphaMap","envMap","combine","reflectivity","refractionRatio","fog","shading","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","vertexColors","skinning","morphTargets"]),m.Material.concat(["color","emissive","specular","shininess","metal","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalScale","displacementMap","displacementScale","displacementBias","specularMap","alphaMap","envMap","combine","reflectivity","refractionRatio","fog","shading","wireframe","wireframeLinewidth","vertexColors","skinning","morphTargets","morphNormals"]),m.Material.concat(["color","emissive","map","specularMap","alphaMap","envMap","combine","reflectivity","fog","wireframe","wireframeLinewidth","vertexColors","skinning","morphTargets","morphNormals"]),["opacity","blending","depthTest","depthWrite","wireframe","wireframeLinewidth"],["opacity","blending","depthTest","depthWrite","wireframe","wireframeLinewidth"],["materials","visible"],["color","opacity","map","side","sizeAttenuation","blending","depthTest","depthWrite","vertexColors","fog"],["color","opacity","map","blending","depthTest","depthWrite","uvOffset","uvScale","fog"],["color","opacity","blending","depthTest","depthWrite","linewidth","linecap","linejoin","vertexColors","fog"],m.Material,["fov","aspect","near","far"],["left","right","top","bottom","near","far"],["near","far","cubeResolution"],m.Texture.concat(["image"]),m.Texture.concat(["images"]),m.Texture.concat(["image"]),["scale","animationFPS","root","meshBody","skinsBody","meshWeapon","skinsWeapon","weapons","activeAnimation"]];e.exports={ID:o<<2|n,ENTITIES:c,PROPERTIES:l}},function(e,t){e.exports=THREE},function(e,t,a){var r=a(1);r.MD2Character=function(){function e(e,t){for(var o=r.UVMapping,n=[],i=0;i<t.length;i++)n[i]=r.ImageUtils.loadTexture(e+t[i],o,a),n[i].name=t[i];return n}function t(e,t){var a=new r.MeshLambertMaterial({color:16755200,wireframe:!0,morphTargets:!0,morphNormals:!0}),o=new r.MeshLambertMaterial({color:16777215,wireframe:!1,map:t,morphTargets:!0,morphNormals:!0}),n=new r.Mesh(e,o);return n.rotation.y=-Math.PI/2,n.castShadow=!0,n.receiveShadow=!0,n.materialTexture=o,n.materialWireframe=a,n}function a(){o.loadCounter-=1,0===o.loadCounter&&o.onLoadComplete()}var o=this;this.scale=1,this.animationFPS=6,this.root=new r.Object3D,this.meshBody=null,this.meshWeapon=null,this.skinsBody=[],this.skinsWeapon=[],this.weapons=[],this.activeAnimation=null,this.mixer=null,this.onLoadComplete=function(){},this.loadCounter=0,this.loadParts=function(n){this.loadCounter=2*n.weapons.length+n.skins.length+1;for(var i=[],s=0;s<n.weapons.length;s++)i[s]=n.weapons[s][1];this.skinsBody=e(n.baseUrl+"skins/",n.skins),this.skinsWeapon=e(n.baseUrl+"skins/",i);var c=new r.MD2Loader;c.load(n.baseUrl+n.body,function(e){e.computeBoundingBox(),o.root.position.y=-o.scale*e.boundingBox.min.y;var n=t(e,o.skinsBody[0]);n.scale.set(o.scale,o.scale,o.scale),o.root.add(n),o.meshBody=n,o.meshBody.clipOffset=0,o.activeAnimationClipName=n.geometry.animations[0].name,o.mixer=new r.AnimationMixer(n),a()});for(var m=function(e,r){return function(n){var i=t(n,o.skinsWeapon[e]);i.scale.set(o.scale,o.scale,o.scale),i.visible=!1,i.name=r,o.root.add(i),o.weapons[e]=i,o.meshWeapon=i,a()}},s=0;s<n.weapons.length;s++)c.load(n.baseUrl+n.weapons[s][0],m(s,n.weapons[s][0]))},this.setPlaybackRate=function(e){0!==e?this.mixer.timeScale=1/e:this.mixer.timeScale=0},this.setWireframe=function(e){e?(this.meshBody&&(this.meshBody.material=this.meshBody.materialWireframe),this.meshWeapon&&(this.meshWeapon.material=this.meshWeapon.materialWireframe)):(this.meshBody&&(this.meshBody.material=this.meshBody.materialTexture),this.meshWeapon&&(this.meshWeapon.material=this.meshWeapon.materialTexture))},this.setSkin=function(e){this.meshBody&&this.meshBody.material.wireframe===!1&&(this.meshBody.material.map=this.skinsBody[e])},this.setWeapon=function(e){for(var t=0;t<this.weapons.length;t++)this.weapons[t].visible=!1;var a=this.weapons[e];a&&(a.visible=!0,this.meshWeapon=a,o.syncWeaponAnimation())},this.setAnimation=function(e){if(this.meshBody){this.meshBody.activeAction&&(o.mixer.removeAction(this.meshBody.activeAction),this.meshBody.activeAction=null);var t=r.AnimationClip.findByName(this.meshBody.geometry.animations,e);if(t){var a=new r.AnimationAction(t,this.mixer.time).setLocalRoot(this.meshBody);o.mixer.addAction(a),this.meshBody.activeAction=a}}o.activeClipName=e,o.syncWeaponAnimation()},this.syncWeaponAnimation=function(){var e=o.activeClipName;if(o.meshWeapon){this.meshWeapon.activeAction&&(o.mixer.removeAction(this.meshWeapon.activeAction),this.meshWeapon.activeAction=null);var t=r.AnimationClip.findByName(this.meshWeapon.geometry.animations,e);if(t){var a=new r.AnimationAction(t).syncWith(this.meshBody.activeAction).setLocalRoot(this.meshWeapon);o.mixer.addAction(a),this.meshWeapon.activeAction=a}}},this.update=function(e){this.mixer&&this.mixer.update(e)}},e.exports=r.MD2Character}]);